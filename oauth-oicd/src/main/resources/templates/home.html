<!doctype html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Home | OAuth2 Login Demo</title>
    <style>
        body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 2rem; }
        .btn { padding: .6rem 1rem; border-radius: .5rem; border: 1px solid #ddd; text-decoration: none; display: inline-block; }
        .btn:hover { background: #f6f6f6; }
        .stack { display: flex; gap: .5rem; align-items: center; }
        code { background: #f2f2f2; padding: .1rem .3rem; border-radius: .25rem; }
    </style>
</head>
<body>
<h1>Spring Security OAuth2 Login</h1>
<p>This demo shows OAuth 2.0 Authorization Code login using Google/GitHub.</p>

<div class="stack">
    <a class="btn" href="/login">Login</a>
    <a class="btn" href="/user">User page</a>
    <a class="btn" href="/api/me">/api/me (JSON)</a>
    <a class="btn" href="/actuator/health">Health</a>
</div>

<hr/>

<div>
    <h3>Status</h3>
    <p th:if="${isAuthenticated}">
        You are logged in as <strong th:text="${name}">user</strong>. <a class="btn" href="/logout">Logout</a>
    </p>
    <p th:unless="${isAuthenticated}">
        You are not authenticated. Click <a href="/login">Login</a> to continue.
    </p>
</div>

<hr/>
<p>Tip: The default redirect URI is <code>{baseUrl}/login/oauth2/code/{registrationId}</code>.</p>
</body>
</html>
